# Проектирование cash.app
Проектирование сервиса-аналога cash.app

# Выбор темы и аудитории
 
 В качестве сервиса для проектирования выберем сервис cash.app.

 cash.app - это сервис, который позволяет проводить:
 1) *платежи*: 
 - отправлять и получать платежи
 - отправлять пожертвования
 - оставлять чаевые
 
 2) *банковские операции*:
 - получать квитанции
 - оплачивать налоги 
 - совершать платежи
 
 3) *инвестиции* 
 - покупать акции
 - конвертировать доллары в криптовалюту) [1]
 

Аудитория данного сервиса обхватывает сразу несколько слоей общества: это могут быть как и самые обычные пользователи, чьи нужды в совершении обычных ежедневных покупок или платежей будет покрывать сервис. Или же это будут более продвинутые пользователи, которые будут использовать сервис в качестве инструмента для работы со своими активами, акционными пакетами, вложениями. 

По результатам 4 квартала 2020 года, сервис насчитывает 30 млн ежемесячно активных пользователей, 7.5 млн из которых используют сервис ежедневно, с ростом пользователей, которые совершают транзакции ежедневно, на 23 процента в сравнении с предыдущим кварталом. [2]

В этой работе сделаем проектирование аналога данного сервиса

# Расчет нагрузки

В качестве начальных значений по количеству пользователей для анализа нагрузки выберем данные из предыдущего пункта: 
Число активных пользователей в месяц - 30 млн
Число активных пользователей ежедневно - 7.5 млн

1. Оценка количества транзакций
Открытой статистики с метриками по количеству запросов найти не удалось, поэтому будем оценивать нагрузку приближенно. 
По истечению 9 месяцев cash.App докладывала о прибыли с операций переводов в 2,365,967$ [3]
Эта сумма была получена с комиссии на переводы, размер комиссии 2.75%
Общий объем переведенных средств за 9 месяцев будет <img src="https://latex.codecogs.com/gif.latex?\frac{2,365,967&space;\cdot&space;100&space;}{2.75}&space;=&space;86,035,163" title="\frac{2,365,967 \cdot 100 }{2.75} = 86,035,163" /> 

Cash.App позволяет проводить транзакции в как минимум один доллар, отсюда количество транзакций, совершенных за один день, возьмем как отношения числа транзакций за 9 месяцев к количеству дней в 9 месяцах<img src="https://latex.codecogs.com/gif.latex?\frac{86,035,163}{9&space;\cdot&space;31}&space;=&space;308369" title="\frac{86,035,163}{9 \cdot 31} = 308,369" />, реальные цифры конечно будут отличаться

Наконец, количество транзакций в секунду возьмем как отношение числа запросов за день, отнесенное к среднему количеству активных рабочих часов ~ 8.5 часов (переведем в секунды умножив на 3600)
<img src="https://latex.codecogs.com/gif.latex?\frac{308,369}{8.5&space;\cdot&space;3600}&space;=&space;10" title="\frac{308,369}{8.5 \cdot 3600} = 10" />

2. Оценка количества запросов состояния кошелька

В целом, количество таких запросов будет больше, чем количество транзакций из тех соображений, что пользователи смотрят свой баланс чаще, чем совершают покупки. Возьмем среднее значение в 5 запросов к сервису в день на каждого активного пользователя (эвристические данные), тогда значение RPS для состояния кошелька будет <img src="https://latex.codecogs.com/gif.latex?\frac{7,500,000&space;\cdot&space;5}{8.5&space;\cdot&space;3600}&space;=&space;1220" title="\frac{7,500,000 \cdot 5}{8.5 \cdot 3600} = 1,220" />

Список литературы

1. https://cash.app/
2. https://www.fool.com/investing/2020/12/09/square-cfo-cash-app-was-too-profitable-in-2020/#:~:text=It%20now%20counts%2030%20million,end%20of%20the%20third%20quarter.
3. https://www.sec.gov/Archives/edgar/data/1512673/000119312520286821/d201688dex991.htm